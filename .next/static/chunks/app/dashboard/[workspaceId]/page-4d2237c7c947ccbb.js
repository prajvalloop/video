(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6741],{1675:function(e,s,t){Promise.resolve().then(t.bind(t,4003)),Promise.resolve().then(t.bind(t,6933)),Promise.resolve().then(t.bind(t,4731)),Promise.resolve().then(t.bind(t,7168))},4003:function(e,s,t){"use strict";t.d(s,{default:function(){return c}});var r=t(7437),n=t(530),a=t(2381),l=t(1598),i=t(5153);let o=e=>{let{mutate:s}=(0,i.H)(["create-folder"],()=>(0,l.L6)(e),"workspace-folders");return{onCreateNewFolder:()=>s({name:"Untitled",id:"optimistic--id"})}};t(2265);var c=e=>{let{workspaceId:s}=e,{onCreateNewFolder:t}=o(s);return(0,r.jsxs)(a.z,{onClick:t,className:"bg-[#1D1D1D] text-[#707070] flex items-center gap-2 py-6 px-4 rounded-2xl",children:[(0,r.jsx)(n.Z,{}),"Create a Folder"]})}},6933:function(e,s,t){"use strict";t.d(s,{default:function(){return v}});var r=t(7437),n=t(1598),a=t(6066);t(2265);var l=t(5708),i=t(2381),o=t(530),c=t(7890),d=t(8790),u=t(4318),x=t(1229);let p=x.z.object({name:x.z.string().min(1,{message:"Workspace name cannot be empty"})});var m=t(5153);let f=()=>{let{mutate:e,isPending:s}=(0,m.H)(["create-workspace"],e=>(0,n.MB)(e.name),"user-workspaces"),{errors:t,onFormSubmit:r,register:a}=(0,u.Z)(p,e);return{errors:t,onFormSubmit:r,register:a,isPending:s}};var h=()=>{let{errors:e,isPending:s,onFormSubmit:t,register:n}=f();return(0,r.jsxs)("form",{onSubmit:t,className:"flex flex-col gap-y-3",children:[(0,r.jsx)(c.Z,{register:n,name:"name",placeholder:"Workspace Name",label:"Name",errors:e,inputType:"input",type:"text"}),(0,r.jsx)(i.z,{className:"text-sm w-full mt-2",type:"submit",disabled:s,children:(0,r.jsx)(d.Z,{state:s,children:"Create Workspace"})})]})},v=()=>{var e,s;let{data:t}=(0,a.m)(["user-workspaces"],()=>(0,n.fX)()),{data:c}=t;return(null===(e=c.subscription)||void 0===e?void 0:e.plan)==="FREE"?(0,r.jsx)(r.Fragment,{}):(null===(s=c.subscription)||void 0===s?void 0:s.plan)==="PRO"?(0,r.jsx)(l.Z,{title:"Create a workspace",description:"This action cannot be undone. This will permanently delete your account and remove your data from our servers",trigger:(0,r.jsxs)(i.z,{className:"bg-[#1D1D1D] text-[#707070] flex items-center gap-2 py-6 px-4 rounded-2xl",children:[(0,r.jsx)(o.Z,{}),"Create a Workspace"]}),children:(0,r.jsx)(h,{})}):(0,r.jsx)("div",{children:"CreateWorkspace"})}},4731:function(e,s,t){"use strict";t.d(s,{default:function(){return v}});var r=t(7437),n=t(530),a=t(3448);let l=(0,t(9205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var i=t(2265),o=t(9376),c=t(8790),d=t(1598),u=t(5153),x=t(279),p=e=>{let{id:s,name:t,optimistic:l,count:p}=e,m=(0,i.useRef)(null),f=(0,i.useRef)(null),h=(0,o.usePathname)(),v=(0,o.useRouter)(),[j,g]=(0,i.useState)(!1),b=()=>g(!0),w=()=>g(!1),{mutate:N,isPending:k}=(0,u.H)(["rename-folders"],e=>(0,d.GG)(s,e.name),"workspace-folders",w),{latestVariables:y}=(0,u._)(["rename-folders"]),C=e=>{m.current&&(m.current.value?N({name:m.current.value,id:s}):w())};return(0,r.jsxs)("div",{onClick:()=>{j||v.push("".concat(h,"/folder/").concat(s))},ref:f,className:(0,a.cn)(l&&"opacity-60","flex hover:bg-neutral-800 cursor-pointer transition duration-150 items-center gap-2 justify-between min-w-[250px] py-4 px-4 rounded-lg  border-[1px]"),children:[(0,r.jsx)(c.Z,{state:k,children:(0,r.jsxs)("div",{className:"flex flex-col gap-[1px]",children:[j?(0,r.jsx)(x.I,{onBlur:e=>{C(e)},autoFocus:!0,placeholder:t,className:"border-none text-base w-full outline-none text-neutral-300 bg-transparent p-0",ref:m}):(0,r.jsx)("p",{onClick:e=>e.stopPropagation(),className:"text-neutral-300",onDoubleClick:e=>{e.stopPropagation(),b()},children:y&&"pending"===y.status&&y.variables.id===s?y.variables.name:t}),(0,r.jsxs)("span",{className:"text-sm text-neutral-500",children:[p||0," videos"]})]})}),(0,r.jsx)(n.Z,{})]})},m=t(6066),f=t(386),h=t(878),v=e=>{let{workspaceId:s}=e,t=(0,f.I0)(),{data:i,isFetched:o}=(0,m.m)(["workspace-folders"],()=>(0,d.Xw)(s)),{latestVariables:c}=(0,u._)(["create-folder"]),{data:x,status:v}=i;return console.log("folders->",x),console.log("status->",v),console.log("latestvariables->",c),o&&x&&t((0,h.el)({folders:x})),(0,r.jsxs)("div",{className:"flex flex-col gap-4 ",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(n.Z,{}),(0,r.jsx)("h2",{className:"text-[#BDBDBD] text-xl",children:"Folders"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-[#BDBDBD]",children:"See all"}),(0,r.jsx)(l,{color:"#707070"})]})]}),(0,r.jsx)("section",{className:(0,a.cn)(200!==v&&"justify-center","flex items-center gap-4 overflow-x-auto overflow-y-hidden w-full"),children:200!==v?(0,r.jsx)("p",{className:"text-neutral-300",children:"No folders"}):(0,r.jsxs)(r.Fragment,{children:[c&&"pending"===c.status&&(0,r.jsx)(p,{name:c.variables.name,id:c.variables.id,optimistic:!0}),x.map(e=>(0,r.jsx)(p,{name:e.name,count:e._count.videos,id:e.id},e.id))]})})]})}},530:function(e,s,t){"use strict";var r=t(7437);s.Z=()=>(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M5 21H19C20.6569 21 22 19.6569 22 18V8C22 6.34315 20.6569 5 19 5H11L9.87868 3.87868C9.31607 3.31607 8.55301 3 7.75736 3H5C3.34315 3 2 4.34315 2 6V18C2 19.6569 3.34315 21 5 21Z",fill:"#545454"}),(0,r.jsx)("rect",{x:"2",y:"7",width:"20",height:"14",rx:"3",fill:"#707070"})]})},878:function(e,s,t){"use strict";t.d(s,{el:function(){return n}});let r=(0,t(301).oM)({name:"folders",initialState:{folders:[]},reducers:{FOLDERS:(e,s)=>({...s.payload})}}),{FOLDERS:n}=r.actions;s.ZP=r.reducer}},function(e){e.O(0,[8310,7317,4438,2025,7559,1632,8658,3281,3534,9921,2971,2117,1744],function(){return e(e.s=1675)}),_N_E=e.O()}]);