(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7368],{7368:function(e,t,s){Promise.resolve().then(s.bind(s,2094)),Promise.resolve().then(s.bind(s,9791)),Promise.resolve().then(s.bind(s,9827)),Promise.resolve().then(s.bind(s,4147)),Promise.resolve().then(s.bind(s,2868)),Promise.resolve().then(s.bind(s,7026)),Promise.resolve().then(s.bind(s,1770)),Promise.resolve().then(s.bind(s,6451)),Promise.resolve().then(s.bind(s,8164)),Promise.resolve().then(s.bind(s,1632)),Promise.resolve().then(s.bind(s,3244)),Promise.resolve().then(s.bind(s,7985)),Promise.resolve().then(s.bind(s,7984)),Promise.resolve().then(s.bind(s,414))},2735:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8335:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},9288:function(e,t,s){"use strict";s.d(t,{Hs:function(){return i},Xk:function(){return n},cQ:function(){return c},et:function(){return d},j_:function(){return o},k9:function(){return l},pz:function(){return a}}),s(3079);var r=s(2119);(0,r.$)("37f42b7663f1cbf706fa9cbcb3a0916a90e14bd7"),(0,r.$)("85fce81cefd5ec11403ca638c8ea519365fe2c55"),(0,r.$)("79ca4d548d125f71c5a5b6cfb8e6e4539215ee64");var a=(0,r.$)("9fbcb98e24d6110a0b651815b3dadf15b502bddb");(0,r.$)("6c398ab10f2fe5ca7c3c7cbd4441f8985ac0b2c0");var n=(0,r.$)("f0235452ffb2df1c718dadedfed3036abcd44c64"),i=(0,r.$)("01b0d69a5187a2f6751a53fdd3d1b57966d6ab1d"),l=(0,r.$)("c13933359a981604722d005f388987c4c280ffc0"),d=(0,r.$)("b20bbb579c4cb4710038b3c4410ec7a88ff7e5c1"),c=(0,r.$)("f7cdbcc96d6fb36d93e2e9e7b04ef4209e5c7d45"),o=(0,r.$)("8b15b5582c5e392c34774ef8dba5fac65aa38690")},8318:function(e,t,s){"use strict";var r=s(7437),a=s(2381),n=s(8335);s(2265);var i=s(4438);t.Z=e=>{let{videoId:t,className:s,variant:l}=e;return(0,r.jsx)(a.z,{variant:l,onClick:()=>(navigator.clipboard.writeText("".concat("http://devsonline.in:3000/","/preview/").concat(t)),(0,i.A)("Copied",{description:"Link successfully copied"})),className:s,children:(0,r.jsx)(n.Z,{size:20,className:"text-[#a4a4a4]"})})}},414:function(e,t,s){"use strict";s.d(t,{default:function(){return F}});var r=s(7437),a=s(1598),n=s(6066),i=s(9376),l=s(2265),d=s(8318),c=s(3448),o=s(2381),m=s(4438),u=e=>{let{title:t,id:s,source:a,description:n}=e;return(0,r.jsx)(o.z,{onClick:()=>{let e=new Blob(['<a style="display: flex; flex-direction: column; gap: 10px" href="'.concat("http://devsonline.in:3000/","/preview/").concat(s,'">\n    <h3 style="text-decoration: none; color: black; margin: 0;">').concat(t,'</h3>\n    <p style="text-decoration: none; color: black; margin: 0;">').concat(n,'</p>\n    <video\n        width="320"\n        style="display: block"\n        >\n            <source\n                type="video/webm"\n                src="').concat("https://d2v3ls8yqgbl7n.cloudfront.net","/").concat(a,'"\n            />\n        </video>\n    </a>')],{type:"text/html"}),r=[new ClipboardItem({"text/plain":new Blob([t],{type:"text/plain"}),"text/html":e})];navigator.clipboard.write(r).then(()=>(0,m.A)("Embedded Link Copied",{description:"Successfully copied embedded link"}))},className:"rounded-full",children:"Get Embedded Code"})},f=s(2735),p=s(7168),x=e=>{let{triggers:t,children:s,defaultValue:a}=e;return(0,r.jsxs)(p.Tabs,{defaultValue:a,className:"w-full",children:[(0,r.jsx)(p.TabsList,{className:"flex justify-start bg-transparent",children:t.map(e=>(0,r.jsx)(p.TabsTrigger,{value:e,className:"capitalize text-base data-[state=active]:bg-[#1d1d1d] ",children:e},e))}),s]})},v=e=>{let{plan:t,trial:s,videoId:a}=e;return(0,r.jsx)(r.Fragment,{})},h=e=>{let{transcript:t}=e;return(0,r.jsx)(p.TabsContent,{value:"Transcript",children:(0,r.jsx)("p",{className:"text-[#a7a7a7]",children:t})})},b=s(7890),j=s(8790),g=s(1229);let y=g.z.object({comment:g.z.string().min(1,{message:"comment cannot be empty"})});var N=s(5153),w=s(4318),k=s(9288);let Z=(e,t)=>{let{data:s}=(0,n.m)(["user-profile"],()=>(0,k.et)()),{status:r,data:a}=s,{isPending:i,mutate:l}=(0,N.H)(["new-comment"],s=>(0,k.k9)(a.id,s.comment,e,t),"video-comments",()=>m()),{register:d,onFormSubmit:c,errors:o,reset:m}=(0,w.Z)(y,l);return{register:d,errors:o,onFormSubmit:c,isPending:i}};var C=s(9205);let z=(0,C.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var T=e=>{let{videoId:t,commentId:s,author:a,close:n}=e,{errors:i,isPending:l,onFormSubmit:d,register:c}=Z(t,s);return(0,r.jsxs)("form",{className:"relative w-full",onSubmit:d,children:[(0,r.jsx)(b.Z,{register:c,errors:i,placeholder:"Respond to ".concat(a,"..."),name:"comment",inputType:"input",lines:8,type:"text"}),(0,r.jsx)(o.z,{className:"p-0 bg-transparent absolute top-[1px] bottom-2 right-3 hover:bg-transparent",type:"submit",children:(0,r.jsx)(j.Z,{state:l,children:(0,r.jsx)(z,{className:"text-white/50 cursor-pointer hover:text-white/80",size:18})})})]})},I=s(6246),P=s(9820);let R=e=>{let{author:t,comment:s,reply:a,videoId:n,commentId:i,isReply:d}=e,[m,u]=(0,l.useState)(!1);return console.log("efepwf->",d),(0,r.jsxs)(P.Zb,{className:(0,c.cn)(d?"bg-[#1d1d1d] pl-10 border-none":"border-[1px] bg-[#1d1d1d] p-5"),children:[(0,r.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,r.jsx)(I.qE,{children:(0,r.jsx)(I.F$,{src:t.image,alt:"author"})}),(0,r.jsxs)("p",{className:"capitalize text-sm text-[#bdbdbd]",children:[t.firstname," ",t.lastname]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-[#BDBDBD]",children:s})}),!d&&(0,r.jsx)("div",{className:"flex justify-end mt-3",children:m?(0,r.jsx)(T,{close:()=>u(!1),videoId:n,commentId:i,author:t.firstname+" "+t.lastname}):(0,r.jsx)(o.z,{onClick:()=>u(!0),className:"text-ms rounded-full bg-[#252525] text-white hover:text-black",children:"Reply"})}),a.length>0&&(0,r.jsx)("div",{className:"flex flex-col gap-y-10 mt-5",children:a.map(e=>{var t,s,a;return(0,r.jsx)(R,{isReply:!0,reply:[],comment:e.comment,commentId:e.commentId,videoId:n,author:{image:null===(t=e.User)||void 0===t?void 0:t.image,firstname:null===(s=e.User)||void 0===s?void 0:s.firstname,lastname:null===(a=e.User)||void 0===a?void 0:a.lastname}},e.id)})})]})};var $=e=>{let{author:t,videoId:s}=e,{data:a}=(0,n.m)(["video-comments"],()=>(0,k.cQ)(s)),{data:i}=a;return console.log("commensts->",i),(0,r.jsxs)(p.TabsContent,{value:"Activity",children:[(0,r.jsx)(T,{author:t,videoId:s}),i.map(e=>{var t,a,n;return(0,r.jsx)(R,{comment:e.comment,author:{image:null===(t=e.User)||void 0===t?void 0:t.image,firstname:null===(a=e.User)||void 0===a?void 0:a.firstname,lastname:null===(n=e.User)||void 0===n?void 0:n.lastname},videoId:s,reply:e.reply,commentId:e.id},e.id)})]})},E=s(5708);let U=(0,C.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),q=g.z.object({title:g.z.string().min(5,{message:"Video title must have atleast 5 characters"}),description:g.z.string().min(100,{message:"Video description must have atleast 100 characters"})}),D=(e,t,s)=>{let{mutate:r,isPending:n}=(0,N.H)(["edit-video"],t=>(0,a.X_)(e,t.title,t.description),"preview-video"),{errors:i,onFormSubmit:l,register:d}=(0,w.Z)(q,r,{title:t,description:s});return{onFormSubmit:l,register:d,errors:i,isPending:n}};var S=e=>{let{videoId:t,title:s,description:a}=e,{errors:n,isPending:i,onFormSubmit:l,register:d}=D(t,s,a);return(0,r.jsxs)("form",{onSubmit:l,className:"flex flex-col gap-y-5",children:[(0,r.jsx)(b.Z,{register:d,errors:n,name:"title",inputType:"input",type:"text",placeholder:"Video Title...",label:"title"}),(0,r.jsx)(b.Z,{register:d,errors:n,name:"description",inputType:"textarea",lines:7,type:"text",placeholder:"Video Description...",label:"Description"}),(0,r.jsx)(o.z,{children:(0,r.jsx)(j.Z,{state:i,children:"Submit"})})]})},M=e=>{let{title:t,description:s,videoId:a}=e;return(0,r.jsx)(E.Z,{title:"Edit video details",description:"You can update your video details here",trigger:(0,r.jsx)(o.z,{variant:"ghost",className:"border-2",children:(0,r.jsx)(U,{className:"text-[#6c6c6c]"})}),children:(0,r.jsx)(S,{videoId:a,title:t,description:s})})},F=e=>{var t,s,o,m,p,b;let{videoId:j}=e,g=(0,i.useRouter)(),{data:y}=(0,n.m)(["preview-video"],()=>(0,a.pl)(j)),N=async()=>await (0,a.kE)(j),{data:w,status:k,author:Z}=y;200!==k&&g.push("/");let C=Math.floor((new Date().getTime()-w.createdAt.getTime())/864e5);return(0,l.useEffect)(()=>{0===w.views&&N()},[]),(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 p-10  lg:py-10 overflow-y-auto gap-5",children:[(0,r.jsxs)("div",{className:" flex flex-col lg:col-span-2 gap-y-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex gap-x-5 items-start justify-between",children:[(0,r.jsx)("h2",{className:"text-white text-4xl font-bold",children:w.title}),Z?(0,r.jsx)(M,{videoId:j,title:w.title,description:w.description}):(0,r.jsx)(r.Fragment,{})]}),(0,r.jsxs)("span",{className:"flex gap-x-3 mt-2",children:[(0,r.jsxs)("p",{className:"text-[#9d9d9d] capitalize",children:[null===(t=w.User)||void 0===t?void 0:t.firstname," ",null===(s=w.User)||void 0===s?void 0:s.lastname]}),(0,r.jsx)("p",{className:"text-[#707070]",children:0===C?"Today":"".concat(C,"d ago")})]})]}),(0,r.jsx)("video",{preload:"metad`ata",className:"w-full h-[400px] aspect-video opacity-50 rounded-xl",controls:!0,children:(0,r.jsx)("source",{src:"".concat("https://d2v3ls8yqgbl7n.cloudfront.net","/").concat(w.source,"#1")})}),(0,r.jsxs)("div",{className:"flex flex-col text-2xl gap-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-x-5 items-center justify-between",children:[(0,r.jsx)("p",{className:"text-[#bdbdbd] text-semibold",children:"Description"}),Z?(0,r.jsx)(M,{videoId:j,title:w.title,description:w.description}):(0,r.jsx)(r.Fragment,{})]}),(0,r.jsx)("p",{className:"text-[#9d9d9d] text-medium",children:w.description})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-1 flex flex-col gap-y-16",children:[(0,r.jsxs)("div",{className:"flex justify-end gap-x-3 items-center",children:[(0,r.jsx)(d.Z,{variant:"outline",className:"rounded-full bg-transparent px-10",videoId:j}),(0,r.jsx)(u,{description:(0,c.a)(w.description,150),id:j,source:w.source,title:w.title}),(0,r.jsx)(f.Z,{})]}),(0,r.jsx)("div",{children:(0,r.jsxs)(x,{defaultValue:"Transcript",triggers:["Transcript","Activity"],children:[(0,r.jsx)(v,{videoId:j,trial:null===(o=w.User)||void 0===o?void 0:o.trial,plan:null===(p=w.User)||void 0===p?void 0:null===(m=p.subscription)||void 0===m?void 0:m.plan}),(0,r.jsx)(h,{transcript:w.description}),(0,r.jsx)($,{author:null===(b=w.User)||void 0===b?void 0:b.firstname,videoId:j})]})})]})]})}},6246:function(e,t,s){"use strict";s.d(t,{F$:function(){return d},Q5:function(){return c},qE:function(){return l}});var r=s(7437),a=s(2265),n=s(4930),i=s(3448);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.fC,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});l.displayName=n.fC.displayName;let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Ee,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",s),...a})});d.displayName=n.Ee.displayName;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.NY,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})});c.displayName=n.NY.displayName},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},eW:function(){return o},ll:function(){return d}});var r=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",s),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})}).displayName="CardContent";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});o.displayName="CardFooter"}}]);