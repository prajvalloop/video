exports.id=341,exports.ids=[341],exports.modules={36755:(e,a,t)=>{let d={"826a9bb4fb5d656c705726ceae94b3375bf3b845":()=>Promise.resolve().then(t.bind(t,14643)).then(e=>e.invalidateCacheAction)};async function c(e,...a){return(await d[e]()).apply(null,a)}e.exports={"826a9bb4fb5d656c705726ceae94b3375bf3b845":c.bind(null,"826a9bb4fb5d656c705726ceae94b3375bf3b845")}},26623:(e,a,t)=>{let d={"01b0d69a5187a2f6751a53fdd3d1b57966d6ab1d":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.enableFirstView),"0c23c25bb8cc800e0bd8599528b9af021793ae3f":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_2),"149bd4fa66f1001c6a08172ef29464929f3d4090":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_0),"2bcdaf06ff4efd35fdf89a90b7f656532f5dfa1f":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_10),"336dc2106c66faedd416a4446e7a0525401b3779":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_8),"37f42b7663f1cbf706fa9cbcb3a0916a90e14bd7":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.acceptInvite),"3d84e929aca4af4afd4387970a343b8a347e736d":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_9),"44f693dffbb0e9f6c05d188c74002f2f93ebdf3a":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_3),"6c398ab10f2fe5ca7c3c7cbd4441f8985ac0b2c0":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.getPaymentInfo),"79ca4d548d125f71c5a5b6cfb8e6e4539215ee64":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.onAuthenticatedUser),"7c89b82e980c1d67f230f337aeeaca08b4eab4ff":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_4),"85fce81cefd5ec11403ca638c8ea519365fe2c55":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.sendEmail),"8b15b5582c5e392c34774ef8dba5fac65aa38690":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.inviteMembers),"929f3cd0c3d84342af07108b97c32d8f0ebdafd5":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_6),"9fbcb98e24d6110a0b651815b3dadf15b502bddb":()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.searchUsers),b20bbb579c4cb4710038b3c4410ec7a88ff7e5c1:()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.getUserProfile),c13933359a981604722d005f388987c4c280ffc0:()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.createCommentAndReply),ddfb883df2838eb0c1b54a147f7879ca6090977b:()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_5),e04a2b5acfd82ae12c360589f4c1aec5aec5d7cb:()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_7),f0235452ffb2df1c718dadedfed3036abcd44c64:()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.getFirstView),f5937d3bade8e82b830e94e4b496464cb12b8a15:()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.$$ACTION_1),f7cdbcc96d6fb36d93e2e9e7b04ef4209e5c7d45:()=>Promise.resolve().then(t.bind(t,51418)).then(e=>e.getVideoComments)};async function c(e,...a){return(await d[e]()).apply(null,a)}e.exports={"01b0d69a5187a2f6751a53fdd3d1b57966d6ab1d":c.bind(null,"01b0d69a5187a2f6751a53fdd3d1b57966d6ab1d"),"0c23c25bb8cc800e0bd8599528b9af021793ae3f":c.bind(null,"0c23c25bb8cc800e0bd8599528b9af021793ae3f"),"149bd4fa66f1001c6a08172ef29464929f3d4090":c.bind(null,"149bd4fa66f1001c6a08172ef29464929f3d4090"),"2bcdaf06ff4efd35fdf89a90b7f656532f5dfa1f":c.bind(null,"2bcdaf06ff4efd35fdf89a90b7f656532f5dfa1f"),"336dc2106c66faedd416a4446e7a0525401b3779":c.bind(null,"336dc2106c66faedd416a4446e7a0525401b3779"),"37f42b7663f1cbf706fa9cbcb3a0916a90e14bd7":c.bind(null,"37f42b7663f1cbf706fa9cbcb3a0916a90e14bd7"),"3d84e929aca4af4afd4387970a343b8a347e736d":c.bind(null,"3d84e929aca4af4afd4387970a343b8a347e736d"),"44f693dffbb0e9f6c05d188c74002f2f93ebdf3a":c.bind(null,"44f693dffbb0e9f6c05d188c74002f2f93ebdf3a"),"6c398ab10f2fe5ca7c3c7cbd4441f8985ac0b2c0":c.bind(null,"6c398ab10f2fe5ca7c3c7cbd4441f8985ac0b2c0"),"79ca4d548d125f71c5a5b6cfb8e6e4539215ee64":c.bind(null,"79ca4d548d125f71c5a5b6cfb8e6e4539215ee64"),"7c89b82e980c1d67f230f337aeeaca08b4eab4ff":c.bind(null,"7c89b82e980c1d67f230f337aeeaca08b4eab4ff"),"85fce81cefd5ec11403ca638c8ea519365fe2c55":c.bind(null,"85fce81cefd5ec11403ca638c8ea519365fe2c55"),"8b15b5582c5e392c34774ef8dba5fac65aa38690":c.bind(null,"8b15b5582c5e392c34774ef8dba5fac65aa38690"),"929f3cd0c3d84342af07108b97c32d8f0ebdafd5":c.bind(null,"929f3cd0c3d84342af07108b97c32d8f0ebdafd5"),"9fbcb98e24d6110a0b651815b3dadf15b502bddb":c.bind(null,"9fbcb98e24d6110a0b651815b3dadf15b502bddb"),b20bbb579c4cb4710038b3c4410ec7a88ff7e5c1:c.bind(null,"b20bbb579c4cb4710038b3c4410ec7a88ff7e5c1"),c13933359a981604722d005f388987c4c280ffc0:c.bind(null,"c13933359a981604722d005f388987c4c280ffc0"),ddfb883df2838eb0c1b54a147f7879ca6090977b:c.bind(null,"ddfb883df2838eb0c1b54a147f7879ca6090977b"),e04a2b5acfd82ae12c360589f4c1aec5aec5d7cb:c.bind(null,"e04a2b5acfd82ae12c360589f4c1aec5aec5d7cb"),f0235452ffb2df1c718dadedfed3036abcd44c64:c.bind(null,"f0235452ffb2df1c718dadedfed3036abcd44c64"),f5937d3bade8e82b830e94e4b496464cb12b8a15:c.bind(null,"f5937d3bade8e82b830e94e4b496464cb12b8a15"),f7cdbcc96d6fb36d93e2e9e7b04ef4209e5c7d45:c.bind(null,"f7cdbcc96d6fb36d93e2e9e7b04ef4209e5c7d45")}},13293:(e,a,t)=>{Promise.resolve().then(t.bind(t,84887)),Promise.resolve().then(t.bind(t,48316)),Promise.resolve().then(t.bind(t,8104)),Promise.resolve().then(t.bind(t,69495)),Promise.resolve().then(t.bind(t,16126)),Promise.resolve().then(t.bind(t,17818)),Promise.resolve().then(t.bind(t,11126)),Promise.resolve().then(t.bind(t,11648)),Promise.resolve().then(t.bind(t,23642))},52908:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,63642,23)),Promise.resolve().then(t.t.bind(t,87586,23)),Promise.resolve().then(t.t.bind(t,47838,23)),Promise.resolve().then(t.t.bind(t,58057,23)),Promise.resolve().then(t.t.bind(t,77741,23)),Promise.resolve().then(t.t.bind(t,13118,23))},35303:()=>{},11126:(e,a,t)=>{"use strict";t.d(a,{ThemeProvider:()=>r});var d=t(97247);t(28964);var c=t(57797);function r({children:e,...a}){return d.jsx(c.f,{...a,children:e})}},11648:(e,a,t)=>{"use strict";t.d(a,{default:()=>s});var d=t(97247),c=t(43225),r=t(41755);t(28964);var n=t(36634);let i=new c.S,s=({children:e})=>(0,d.jsxs)(r.QueryClientProvider,{client:i,children:[e,d.jsx(n.t,{initialIsOpen:!1})]})},23642:(e,a,t)=>{"use strict";t.d(a,{ReactProvider:()=>n});var d=t(97247),c=t(23102),r=t(44748);let n=({children:e})=>d.jsx(c.zt,{store:r.h,children:e})},42878:(e,a,t)=>{"use strict";t.d(a,{ZP:()=>r,el:()=>c});let d=(0,t(247).oM)({name:"folders",initialState:{folders:[]},reducers:{FOLDERS:(e,a)=>({...a.payload})}}),{FOLDERS:c}=d.actions,r=d.reducer},47972:(e,a,t)=>{"use strict";t.d(a,{Uc:()=>c,ZP:()=>r});let d=(0,t(247).oM)({name:"workspaces",initialState:{workspaces:[]},reducers:{WORKSPACES:(e,a)=>({...a.payload})}}),{WORKSPACES:c}=d.actions,r=d.reducer},44748:(e,a,t)=>{"use strict";t.d(a,{C:()=>b,h:()=>f});var d=t(59266),c=t(247),r=t(23102),n=t(42878),i=t(47972);let s=(0,d.UY)({FolderReducer:n.ZP,WorkSpaceReducer:i.ZP}),f=(0,c.xC)({reducer:s,middleware:e=>e({serializableCheck:!1})}),b=r.v9.withTypes()},51418:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$ACTION_0:()=>f,$$ACTION_1:()=>l,$$ACTION_10:()=>O,$$ACTION_2:()=>u,$$ACTION_3:()=>m,$$ACTION_4:()=>p,$$ACTION_5:()=>P,$$ACTION_6:()=>y,$$ACTION_7:()=>g,$$ACTION_8:()=>A,$$ACTION_9:()=>k,acceptInvite:()=>x,createCommentAndReply:()=>$,enableFirstView:()=>w,getFirstView:()=>v,getPaymentInfo:()=>h,getUserProfile:()=>I,getVideoComments:()=>j,inviteMembers:()=>C,onAuthenticatedUser:()=>b,searchUsers:()=>o,sendEmail:()=>s});var d=t(94214);t(84674);var c=t(82208),r=t(54572),n=t(56742),i=t(54772);let s=(0,d.j)("149bd4fa66f1001c6a08172ef29464929f3d4090",f);async function f(e,a,t,d){let c=n.createTransport({host:"smtp.gmail.com",port:465,secure:!0,auth:{user:process.env.MAILER_EMAIL,pass:process.env.MAILER_PASSWORD}});return console.log("user",process.env.MAILER_EMAIL),console.log("pass->",process.env.MAILER_PASSWORD),{transporter:c,mailOptions:{to:e,subject:a,text:t,html:d}}}let b=(0,d.j)("f5937d3bade8e82b830e94e4b496464cb12b8a15",l);async function l(){try{let e=await (0,r.a)();if(!e)return{status:403};console.log("user->exist in clerk");let a=await c.L.user.findUnique({where:{clerkid:e.id},include:{workspace:!0}});if(a)return console.log("user exist in db"),{status:200,user:a};let t=await c.L.user.create({data:{clerkid:e.id,email:e.emailAddresses[0].emailAddress,firstname:e.firstName,lastname:e.lastName,image:e.imageUrl,studio:{create:{}},subscription:{create:{}},workspace:{create:{name:`${e.firstName}'s Workspace`,type:"PERSONAL",folders:{create:{}}}}},include:{workspace:!0,subscription:{select:{plan:!0}}}});if(t)return console.log("newUser created"),{status:201,user:t};return{status:400}}catch(e){return console.log("error->",e),{status:500}}}let o=(0,d.j)("0c23c25bb8cc800e0bd8599528b9af021793ae3f",u);async function u(e){try{let a=await (0,r.a)();if(!a)return{status:404};let t=await c.L.user.findMany({where:{OR:[{firstname:{contains:e}},{email:{contains:e}},{lastname:{contains:e}}],NOT:[{clerkid:a.id}]},select:{id:!0,subscription:{select:{plan:!0}},firstname:!0,lastname:!0,image:!0,email:!0}});if(console.log("query->",e),console.log("users->",t),t&&t.length>0)return{status:200,data:t};return{status:404,data:void 0}}catch(e){return{status:500,data:void 0}}}let h=(0,d.j)("44f693dffbb0e9f6c05d188c74002f2f93ebdf3a",m);async function m(){try{let e=await (0,r.a)();if(!e)return{status:404};let a=await c.L.user.findUnique({where:{clerkid:e.id},select:{subscription:{select:{plan:!0}}}});if(a)return{status:200,data:a}}catch(e){return{status:400}}}let v=(0,d.j)("7c89b82e980c1d67f230f337aeeaca08b4eab4ff",p);async function p(){try{let e=await (0,r.a)();if(!e)return{status:404};let a=await c.L.user.findUnique({where:{clerkid:e.id},select:{firstView:!0}});if(console.log("userData->",a),a)return{status:200,data:a.firstView};return{status:400,data:!1}}catch(e){return{status:500}}}let w=(0,d.j)("ddfb883df2838eb0c1b54a147f7879ca6090977b",P);async function P(e){try{let a=await (0,r.a)();if(!a)return{status:404};if(await c.L.user.update({where:{clerkid:a.id},data:{firstView:e}}))return{status:200,data:"Setting updated"}}catch(e){return{status:400}}}let $=(0,d.j)("929f3cd0c3d84342af07108b97c32d8f0ebdafd5",y);async function y(e,a,t,d){try{if(d&&await c.L.comment.update({where:{id:d},data:{reply:{create:{comment:a,userId:e,videoId:t}}}}))return{status:200,data:"Reply posted"};if(await c.L.video.update({where:{id:t},data:{Comment:{create:{comment:a,userId:e}}}}))return{status:200,data:"New comment added"};return{status:400}}catch(e){return{status:500}}}let I=(0,d.j)("e04a2b5acfd82ae12c360589f4c1aec5aec5d7cb",g);async function g(){try{let e=await (0,r.a)();if(!e)return{status:404};let a=await c.L.user.findUnique({where:{clerkid:e.id},select:{image:!0,id:!0}});if(console.log("user_profile->",a),a)return console.log({status:200,data:a}),{status:200,data:a};return{status:404}}catch(e){return{status:500}}}let j=(0,d.j)("336dc2106c66faedd416a4446e7a0525401b3779",A);async function A(e){try{let a=await c.L.comment.findMany({where:{OR:[{videoId:e},{commentId:e}],commentId:null},include:{reply:{include:{User:!0}},User:!0}});return{status:200,data:a}}catch(e){return{status:500}}}let C=(0,d.j)("3d84e929aca4af4afd4387970a343b8a347e736d",k);async function k(e,a,t){try{let d=await (0,r.a)();if(!d)return{status:404};let n=await c.L.user.findUnique({where:{clerkid:d.id},select:{id:!0,firstname:!0,lastname:!0}});if(n?.id){let r=await c.L.workSpace.findUnique({where:{id:e},select:{name:!0}});if(r){let i=await c.L.invite.create({data:{senderId:n.id,recieverId:a,workSpaceId:e,content:`You are invite to join ${r.name} Workspace, click accept to confirm`},select:{id:!0}});if(await c.L.user.update({where:{clerkid:d.id},data:{notification:{create:{content:`${d.firstName} ${d.lastName} invited ${n.firstname} into ${r.name}`}}}}),i){console.log("invitation reached");let{transporter:e,mailOptions:a}=await s(t,"You got an invitation",`You are invited to join ${r.name} Workspace, click accept to confirm`,`<a href="http://devsonline.in:3000//invite/${i.id}" style="background-color: #000; padding: 5px 10px; border-radius: 10px;">Accept Invite</a>`);return e.sendMail(a,async(e,a)=>{e?console.log("\uD83C\uDF0B",e.message):console.log("\uD83D\uDC4D Email send",a)}),{status:200,data:"Invite sent"}}return{status:400,data:"Invitation failed"}}return{status:404,data:"workspace not found"}}return{status:404,data:"recipient not found"}}catch(e){return{status:500,data:"Oops!something went wrong"}}}let x=(0,d.j)("2bcdaf06ff4efd35fdf89a90b7f656532f5dfa1f",O);async function O(e){try{let a=await (0,r.a)();if(!a)return{status:404};let t=await c.L.invite.findUnique({where:{id:e},select:{workSpaceId:!0,reciever:{select:{clerkid:!0}}}});if(a.id!==t?.reciever?.clerkid)return{status:401};let d=c.L.invite.update({where:{id:e},data:{accepted:!0}}),n=c.L.user.update({where:{clerkid:a.id},data:{members:{create:{workSpaceId:t.workSpaceId}}}});if(await c.L.$transaction([d,n]))return{status:200};return{status:400}}catch(e){return{status:500}}}(0,i.h)([s,b,o,h,v,w,$,I,j,C,x]),(0,d.j)("85fce81cefd5ec11403ca638c8ea519365fe2c55",s),(0,d.j)("79ca4d548d125f71c5a5b6cfb8e6e4539215ee64",b),(0,d.j)("9fbcb98e24d6110a0b651815b3dadf15b502bddb",o),(0,d.j)("6c398ab10f2fe5ca7c3c7cbd4441f8985ac0b2c0",h),(0,d.j)("f0235452ffb2df1c718dadedfed3036abcd44c64",v),(0,d.j)("01b0d69a5187a2f6751a53fdd3d1b57966d6ab1d",w),(0,d.j)("c13933359a981604722d005f388987c4c280ffc0",$),(0,d.j)("b20bbb579c4cb4710038b3c4410ec7a88ff7e5c1",I),(0,d.j)("f7cdbcc96d6fb36d93e2e9e7b04ef4209e5c7d45",j),(0,d.j)("8b15b5582c5e392c34774ef8dba5fac65aa38690",C),(0,d.j)("37f42b7663f1cbf706fa9cbcb3a0916a90e14bd7",x)},79648:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u,metadata:()=>o});var d=t(72051),c=t(91813),r=t.n(c);t(5023);var n=t(81930),i=t(45347);let s=(0,i.createProxy)(String.raw`C:\Users\Prajval Bhardwaj\Desktop\opal_codes\video\src\components\theme\index.tsx#ThemeProvider`),f=(0,i.createProxy)(String.raw`C:\Users\Prajval Bhardwaj\Desktop\opal_codes\video\src\react-query\index.tsx#default`),b=(0,i.createProxy)(String.raw`C:\Users\Prajval Bhardwaj\Desktop\opal_codes\video\src\redux\provider.tsx#ReactProvider`);var l=t(17583);let o={title:"Recordify",description:"Share AI Powered videos with your friends"};function u({children:e}){return d.jsx("html",{lang:"en",children:d.jsx("body",{className:`${r().className} bg-[#171717] antialiased`,children:d.jsx(n.El,{children:d.jsx(s,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:d.jsx(b,{children:(0,d.jsxs)(f,{children:[e," ",d.jsx(l.x7,{})]})})})})})})}},82208:(e,a,t)=>{"use strict";t.d(a,{L:()=>c});var d=t(53524);let c=globalThis.prisma||new d.PrismaClient},73881:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var d=t(54564);let c=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};