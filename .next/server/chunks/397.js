exports.id=397,exports.ids=[397],exports.modules={13332:(e,t,s)=>{Promise.resolve().then(s.bind(s,26346)),Promise.resolve().then(s.bind(s,26690)),Promise.resolve().then(s.bind(s,41755)),Promise.resolve().then(s.bind(s,49184)),Promise.resolve().then(s.bind(s,54968)),Promise.resolve().then(s.bind(s,10261)),Promise.resolve().then(s.bind(s,88111)),Promise.resolve().then(s.bind(s,11628)),Promise.resolve().then(s.bind(s,57415)),Promise.resolve().then(s.bind(s,17337)),Promise.resolve().then(s.bind(s,22961)),Promise.resolve().then(s.bind(s,50917)),Promise.resolve().then(s.bind(s,78070)),Promise.resolve().then(s.bind(s,72908))},61728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var i=s(97247),a=s(28852);let l=(0,s(26323).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);s(28964);var r=s(17818);let n=({videoId:e,className:t,variant:s})=>i.jsx(a.z,{variant:s,onClick:()=>(navigator.clipboard.writeText(`http://devsonline.in:3000//preview/${e}`),(0,r.A)("Copied",{description:"Link successfully copied"})),className:t,children:i.jsx(l,{size:20,className:"text-[#a4a4a4]"})})},72908:(e,t,s)=>{"use strict";s.d(t,{default:()=>V});var i=s(97247),a=s(47841),l=s(35080),r=s(34178),n=s(28964),d=s(61728),o=s(40677),c=s(28852),m=s(17818);let p=({title:e,id:t,source:s,description:a})=>i.jsx(c.z,{onClick:()=>{let i=new Blob([`<a style="display: flex; flex-direction: column; gap: 10px" href="http://devsonline.in:3000//preview/${t}">
    <h3 style="text-decoration: none; color: black; margin: 0;">${e}</h3>
    <p style="text-decoration: none; color: black; margin: 0;">${a}</p>
    <video
        width="320"
        style="display: block"
        >
            <source
                type="video/webm"
                src="https://d2v3ls8yqgbl7n.cloudfront.net/${s}"
            />
        </video>
    </a>`],{type:"text/html"}),l=[new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"}),"text/html":i})];navigator.clipboard.write(l).then(()=>(0,m.A)("Embedded Link Copied",{description:"Successfully copied embedded link"}))},className:"rounded-full",children:"Get Embedded Code"});var x=s(999),h=s(57568);let v=({triggers:e,children:t,defaultValue:s})=>(0,i.jsxs)(h.Tabs,{defaultValue:s,className:"w-full",children:[i.jsx(h.TabsList,{className:"flex justify-start bg-transparent",children:e.map(e=>i.jsx(h.TabsTrigger,{value:e,className:"capitalize text-base data-[state=active]:bg-[#1d1d1d] ",children:e},e))}),t]}),u=({plan:e,trial:t,videoId:s})=>i.jsx(i.Fragment,{}),j=({transcript:e})=>i.jsx(h.TabsContent,{value:"Transcript",children:i.jsx("p",{className:"text-[#a7a7a7]",children:e})});var b=s(71968),g=s(30809),f=s(47751);let y=f.z.object({comment:f.z.string().min(1,{message:"comment cannot be empty"})});var N=s(65967),w=s(6245),k=s(87369);let z=(e,t)=>{let{data:s}=(0,l.m)(["user-profile"],()=>(0,k.et)()),{status:i,data:a}=s,{isPending:r,mutate:n}=(0,N.H)(["new-comment"],s=>(0,k.k9)(a.id,s.comment,e,t),"video-comments",()=>m()),{register:d,onFormSubmit:o,errors:c,reset:m}=(0,w.Z)(y,n);return{register:d,errors:c,onFormSubmit:o,isPending:r}};var P=s(26323);let T=(0,P.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Z=({videoId:e,commentId:t,author:s,close:a})=>{let{errors:l,isPending:r,onFormSubmit:n,register:d}=z(e,t);return(0,i.jsxs)("form",{className:"relative w-full",onSubmit:n,children:[i.jsx(b.Z,{register:d,errors:l,placeholder:`Respond to ${s}...`,name:"comment",inputType:"input",lines:8,type:"text"}),i.jsx(c.z,{className:"p-0 bg-transparent absolute top-[1px] bottom-2 right-3 hover:bg-transparent",type:"submit",children:i.jsx(g.Z,{state:r,children:i.jsx(T,{className:"text-white/50 cursor-pointer hover:text-white/80",size:18})})})]})};var I=s(45496),U=s(55757);let C=({author:e,comment:t,reply:s,videoId:a,commentId:l,isReply:r})=>{let[d,m]=(0,n.useState)(!1);return console.log("efepwf->",r),(0,i.jsxs)(U.Zb,{className:(0,o.cn)(r?"bg-[#1d1d1d] pl-10 border-none":"border-[1px] bg-[#1d1d1d] p-5"),children:[(0,i.jsxs)("div",{className:"flex gap-x-2 items-center",children:[i.jsx(I.qE,{children:i.jsx(I.F$,{src:e.image,alt:"author"})}),(0,i.jsxs)("p",{className:"capitalize text-sm text-[#bdbdbd]",children:[e.firstname," ",e.lastname]})]}),i.jsx("div",{children:i.jsx("p",{className:"text-[#BDBDBD]",children:t})}),!r&&i.jsx("div",{className:"flex justify-end mt-3",children:d?i.jsx(Z,{close:()=>m(!1),videoId:a,commentId:l,author:e.firstname+" "+e.lastname}):i.jsx(c.z,{onClick:()=>m(!0),className:"text-ms rounded-full bg-[#252525] text-white hover:text-black",children:"Reply"})}),s.length>0&&i.jsx("div",{className:"flex flex-col gap-y-10 mt-5",children:s.map(e=>i.jsx(C,{isReply:!0,reply:[],comment:e.comment,commentId:e.commentId,videoId:a,author:{image:e.User?.image,firstname:e.User?.firstname,lastname:e.User?.lastname}},e.id))})]})},$=({author:e,videoId:t})=>{let{data:s}=(0,l.m)(["video-comments"],()=>(0,k.cQ)(t)),{data:a}=s;return console.log("commensts->",a),(0,i.jsxs)(h.TabsContent,{value:"Activity",children:[i.jsx(Z,{author:e,videoId:t}),a.map(e=>i.jsx(C,{comment:e.comment,author:{image:e.User?.image,firstname:e.User?.firstname,lastname:e.User?.lastname},videoId:t,reply:e.reply,commentId:e.id},e.id))]})};var D=s(16050);let S=(0,P.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),q=f.z.object({title:f.z.string().min(5,{message:"Video title must have atleast 5 characters"}),description:f.z.string().min(100,{message:"Video description must have atleast 100 characters"})}),B=(e,t,s)=>{let{mutate:i,isPending:l}=(0,N.H)(["edit-video"],t=>(0,a.X_)(e,t.title,t.description),"preview-video"),{errors:r,onFormSubmit:n,register:d}=(0,w.Z)(q,i,{title:t,description:s});return{onFormSubmit:n,register:d,errors:r,isPending:l}},E=({videoId:e,title:t,description:s})=>{let{errors:a,isPending:l,onFormSubmit:r,register:n}=B(e,t,s);return(0,i.jsxs)("form",{onSubmit:r,className:"flex flex-col gap-y-5",children:[i.jsx(b.Z,{register:n,errors:a,name:"title",inputType:"input",type:"text",placeholder:"Video Title...",label:"title"}),i.jsx(b.Z,{register:n,errors:a,name:"description",inputType:"textarea",lines:7,type:"text",placeholder:"Video Description...",label:"Description"}),i.jsx(c.z,{children:i.jsx(g.Z,{state:l,children:"Submit"})})]})},M=({title:e,description:t,videoId:s})=>i.jsx(D.Z,{title:"Edit video details",description:"You can update your video details here",trigger:i.jsx(c.z,{variant:"ghost",className:"border-2",children:i.jsx(S,{className:"text-[#6c6c6c]"})}),children:i.jsx(E,{videoId:s,title:e,description:t})}),V=({videoId:e})=>{let t=(0,r.useRouter)(),{data:s}=(0,l.m)(["preview-video"],()=>(0,a.pl)(e)),c=async()=>await (0,a.kE)(e),{data:m,status:h,author:b}=s;200!==h&&t.push("/");let g=Math.floor((new Date().getTime()-m.createdAt.getTime())/864e5);return(0,n.useEffect)(()=>{0===m.views&&c()},[]),(0,i.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 p-10  lg:py-10 overflow-y-auto gap-5",children:[(0,i.jsxs)("div",{className:" flex flex-col lg:col-span-2 gap-y-10",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex gap-x-5 items-start justify-between",children:[i.jsx("h2",{className:"text-white text-4xl font-bold",children:m.title}),b?i.jsx(M,{videoId:e,title:m.title,description:m.description}):i.jsx(i.Fragment,{})]}),(0,i.jsxs)("span",{className:"flex gap-x-3 mt-2",children:[(0,i.jsxs)("p",{className:"text-[#9d9d9d] capitalize",children:[m.User?.firstname," ",m.User?.lastname]}),i.jsx("p",{className:"text-[#707070]",children:0===g?"Today":`${g}d ago`})]})]}),i.jsx("video",{preload:"metad`ata",className:"w-full h-[400px] aspect-video opacity-50 rounded-xl",controls:!0,children:i.jsx("source",{src:`https://d2v3ls8yqgbl7n.cloudfront.net/${m.source}#1`})}),(0,i.jsxs)("div",{className:"flex flex-col text-2xl gap-y-4",children:[(0,i.jsxs)("div",{className:"flex gap-x-5 items-center justify-between",children:[i.jsx("p",{className:"text-[#bdbdbd] text-semibold",children:"Description"}),b?i.jsx(M,{videoId:e,title:m.title,description:m.description}):i.jsx(i.Fragment,{})]}),i.jsx("p",{className:"text-[#9d9d9d] text-medium",children:m.description})]})]}),(0,i.jsxs)("div",{className:"lg:col-span-1 flex flex-col gap-y-16",children:[(0,i.jsxs)("div",{className:"flex justify-end gap-x-3 items-center",children:[i.jsx(d.Z,{variant:"outline",className:"rounded-full bg-transparent px-10",videoId:e}),i.jsx(p,{description:(0,o.a)(m.description,150),id:e,source:m.source,title:m.title}),i.jsx(x.Z,{})]}),i.jsx("div",{children:(0,i.jsxs)(v,{defaultValue:"Transcript",triggers:["Transcript","Activity"],children:[i.jsx(u,{videoId:e,trial:m.User?.trial,plan:m.User?.subscription?.plan}),i.jsx(j,{transcript:m.description}),i.jsx($,{author:m.User?.firstname,videoId:e})]})})]})]})}},3830:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});let i=(0,s(45347).createProxy)(String.raw`C:\Users\Prajval Bhardwaj\Desktop\opal_codes\video\src\components\global\videos\preview\index.tsx#default`)}};