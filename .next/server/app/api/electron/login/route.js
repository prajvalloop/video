"use strict";(()=>{var e={};e.id=2721,e.ids=[2721],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},76162:e=>{e.exports=require("stream")},21764:e=>{e.exports=require("util")},92730:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>g,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>x});var o={};r.r(o),r.d(o,{POST:()=>d});var s=r(73278),n=r(45002),a=r(54877),i=r(71309),l=r(82208),u=r(67390),p=r.n(u);async function d(e){let{email:t,password:r}=await e.json();try{let e=await l.L.user.findUnique({where:{email:t}});if(console.log("working fine"),!e)return i.NextResponse.json({status:400,data:"Email doesnot exist"});let o=await l.L.userElectron.findUnique({where:{email:t}});if(console.log("yes good"),!o)return i.NextResponse.json({status:400,data:"Invalid email or password exist"});if(o?.password===r){let e=process.env.JWT_SECRET;console.log("secretKey->",e);let r={email:t,userId:o?.id};console.log("token creating");let s=p().sign(r,e);return console.log("token created"),i.NextResponse.json({status:200,token:s,data:"Logged in"})}return i.NextResponse.json({status:400,data:"Password incorrect"})}catch(e){return i.NextResponse.json({status:500,data:"Internal Server error"})}}let c=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/electron/login/route",pathname:"/api/electron/login",filename:"route",bundlePath:"app/api/electron/login/route"},resolvedPagePath:"C:\\Users\\Prajval Bhardwaj\\Desktop\\opal_codes\\video\\src\\app\\api\\electron\\login\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:x,serverHooks:m}=c,v="/api/electron/login/route";function f(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:x})}},82208:(e,t,r)=>{r.d(t,{L:()=>s});var o=r(53524);let s=globalThis.prisma||new o.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[9379,1309,9642],()=>r(92730));module.exports=o})();